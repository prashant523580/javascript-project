<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel='stylesheet' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css'>
    <link rel="stylesheet" href="./style.css" type="text/css">
    <style>
        .over {
  transform: scale(1.1, 1.1);
  color: red;
}
    </style>
</head>
<body>

    <div class="list">
        <input type="text" class="input" placeholder="add items ">
        <span class="add">+</span>
    </div>
    <ul id="main">
        <li class="draggable" draggable="true"> 1</li>
        <li class="draggable" draggable="true"> 34</li>
        <li class="draggable" draggable="true"> 2</li>
        <li class="draggable" draggable="true"> 3</li>
        <li class="draggable" draggable="true"> 32</li>
        <li class="draggable" draggable="true"> 21</li>
        
    </ul>
    <script>
        window.addEventListener("load", () => {

            var btn = document.querySelector(".add");
            var removes = document.querySelector(".draggable"); 
            let dragging ;
             function dragStart(e) {
                // this.style.opacity = '0.4';
                dragging = e.target;
                e.dataTransfer.effectAllowed = 'move';
                e.dataTransfer.setData('text/html', e.target.innerHTML);
            }
            function dragEnter  (e) {
             
                console.log(e)
        }
            function dragLeave  (e) {
                e.stopPropagation();
                this.classList.add("over");
        }
            function dragOver (e) {
            e.preventDefault();
            e.dataTransfer.dropEffect = 'move';
           
        }
            function dropItem(e) {
                e.preventDefault();
                dragging.innerHTML = e.target.innerHTML;
                e.target.innerHTML = e.dataTransfer.getData("html/text");
        }
        function dragEnd(){
            console.log("drag End ");
        }
    var addEventDragDrop = (el) => {
            el.addEventListener("dragstart", dragStart);
            el.addEventListener("dragenter", dragEnter);
            el.addEventListener("dragleave", dragLeave);
            el.addEventListener("dragover", dragOver);
            el.addEventListener("drop", dropItem);
            el.addEventListener("dragend", dragEnd);
        }
        let items = document.querySelectorAll(".draggable");
        items.forEach.call(items,(item) =>   {
            addEventDragDrop(item);
            console.log(item)
        })
        btn.addEventListener("click", function() {
            var addItems = document.querySelector(".input").value;

            var li = document.createElement("li");
            var attr = document.createAttribute("draggable");
            var ul = document.querySelector('ul');
            li.className = "draggable";
            attr.value = "true";
            li.setAttributeNode(attr);
            li.appendChild(document.createTextNode(addItems));
            ul.appendChild(li);
            addEventDragDrop(li);
        });
    })
        </script>
</body>
</html>